
# Getting and Cleaning Data (Coursera)
## Course Project CodeBook.md

This file documents the "run_analysis.R" script in this repository, written
as part of the coursera "Getting And Cleaning Data" final course project.

Specifically, this file explains:

1. The input data and variables required to execute the script.
2. The output data and variables generated by the script.
3. The transformations and work performed to produce a final tidy data set.

### Inputs

The "run_analysis.R" script uses the following files in the data set mentioned
above as inputs (all relative to the "UCI HAR Dataset" folder:

    ./activity_labels.txt
    ./features.txt
    ./test/y_test.txt
    ./test/subject_test.txt
    ./test/X_test.txt
    ./train/y_train.txt
    ./train/subject_test.txt
    ./train/X_train.txt

### Outputs

The "run_analysis.R" script creates the following files as outputs (all
relative to the "UCI HAR Dataset" folder:

    ./MergedData.txt
    ./TidyData.txt

### Transformation of the Inputs

1. Read the "activity_labels.txt" file.  This table helps to map activity-codes
   to human readable activity names.

| Variable                             | Description                                         |
|--------------------------------------|-----------------------------------------------------|
| ActivityId                           | The id of the activity a record represents.         |
| ActivityName                         | The human readable activity a record represents.    |

```
    activityLabels <- read.csv(
        "./activity_labels.txt",
        header = FALSE,
        sep = " ",
        col.names=list("ActivityId", "ActivityName"))
```

2. Read the "features.txt" file.  This table contains (most of) the column 
   names associated with the measurements in our data set.

| Variable                             | Description                                         |
|--------------------------------------|-----------------------------------------------------|
| FeatureColId                         | The id of the feature a record represents.          |
| FeatureColName                       | The human readable feature name a record represents.| 

```
    featuresColNames <- read.csv(
        "./features.txt",
        header = FALSE,
        sep = " ",
        col.names=list("FeatureColId", "FeatureColName"))
```

3. Read the "./test/y_test.txt" and "./train/y_train.txt" files.  These tables
   identify the activity associated with each measurement in the test and train 
   data sets. With these tables:

3.1. Label all of the activities with their textual counterparts.
3.2. Merge the test and train rows together.
3.3. Add a measurement-id we'll use to join things later.

```
    testActivityRows <- read.csv(
        "./test/y_test.txt",
        header = FALSE,
        sep = " ",
        col.names=list("ActivityId"))

    trainActivityRows <- read.csv(
        "./train/y_train.txt",
        header = FALSE,
        sep = " ",
        col.names=list("ActivityId"))

    # Label all of the activities with their textual counterparts.
    testActivityRows   <- activityLabels[testActivityRows$ActivityId,]
    trainActivityRows  <- activityLabels[trainActivityRows$ActivityId,]

    # Merge the test and train rows together.
    # Add a measurement-id column we'll use to join things later.
    mergedActivityRows <- rbind(testActivityRows, trainActivityRows)
    mergedActivityRows$measurementId <- 1:nrow(mergedActivityRows)
```

| Variable                             | Description                                         |
|--------------------------------------|-----------------------------------------------------|
| ActivityId                           | The id of the activity a record represents.         |

4. 

| Variable                             | Description                                         |
|--------------------------------------|-----------------------------------------------------|
| SubjectId                            | The id of the subject (person) a record represents. |
| ActivityName                         | The activity being performed by the subject.        |
| MeanOf:[tBodyAcc-mean()-X]           |                                                |
| MeanOf:[tBodyAcc-mean()-Y]           |                                                |
| MeanOf:[tBodyAcc-mean()-Z]           |                                                |
| MeanOf:[tBodyAcc-std()-X]            |                                                |
| MeanOf:[tBodyAcc-std()-Y]            |                                                |
| MeanOf:[tBodyAcc-std()-Z]            |                                                |
| MeanOf:[tGravityAcc-mean()-X]        |                                                |
| MeanOf:[tGravityAcc-mean()-Y]        |                                                |
| MeanOf:[tGravityAcc-mean()-Z]        |                                                |
| MeanOf:[tGravityAcc-std()-X]         |                                                |
| MeanOf:[tGravityAcc-std()-Y]         |                                                |
| MeanOf:[tGravityAcc-std()-Z]         |                                                |
| MeanOf:[tBodyAccJerk-mean()-X]       |                                                |
| MeanOf:[tBodyAccJerk-mean()-Y]       |                                                |
| MeanOf:[tBodyAccJerk-mean()-Z]       |                                                |
| MeanOf:[tBodyAccJerk-std()-X]        |                                                |
| MeanOf:[tBodyAccJerk-std()-Y]        |                                                |
| MeanOf:[tBodyAccJerk-std()-Z]        |                                                |
| MeanOf:[tBodyGyro-mean()-X]          |                                                |
| MeanOf:[tBodyGyro-mean()-Y]          |                                                |
| MeanOf:[tBodyGyro-mean()-Z]          |                                                |
| MeanOf:[tBodyGyro-std()-X]           |                                                |
| MeanOf:[tBodyGyro-std()-Y]           |                                                |
| MeanOf:[tBodyGyro-std()-Z]           |                                                |
| MeanOf:[tBodyGyroJerk-mean()-X]      |                                                |
| MeanOf:[tBodyGyroJerk-mean()-Y]      |                                                |
| MeanOf:[tBodyGyroJerk-mean()-Z]      |                                                |
| MeanOf:[tBodyGyroJerk-std()-X]       |                                                |
| MeanOf:[tBodyGyroJerk-std()-Y]       |                                                |
| MeanOf:[tBodyGyroJerk-std()-Z]       |                                                |
| MeanOf:[tBodyAccMag-mean()]          |                                                |
| MeanOf:[tBodyAccMag-std()]           |                                                |
| MeanOf:[tGravityAccMag-mean()]       |                                                |
| MeanOf:[tGravityAccMag-std()]        |                                                |
| MeanOf:[tBodyAccJerkMag-mean()]      |                                                |
| MeanOf:[tBodyAccJerkMag-std()]       |                                                |
| MeanOf:[tBodyGyroMag-mean()]         |                                                |
| MeanOf:[tBodyGyroMag-std()]          |                                                |
| MeanOf:[tBodyGyroJerkMag-mean()]     |                                                |
| MeanOf:[tBodyGyroJerkMag-std()]      |                                                |
| MeanOf:[fBodyAcc-mean()-X]           |                                                |
| MeanOf:[fBodyAcc-mean()-Y]           |                                                |
| MeanOf:[fBodyAcc-mean()-Z]           |                                                |
| MeanOf:[fBodyAcc-std()-X]            |                                                |
| MeanOf:[fBodyAcc-std()-Y]            |                                                |
| MeanOf:[fBodyAcc-std()-Z]            |                                                |
| MeanOf:[fBodyAccJerk-mean()-X]       |                                                |
| MeanOf:[fBodyAccJerk-mean()-Y]       |                                                |
| MeanOf:[fBodyAccJerk-mean()-Z]       |                                                |
| MeanOf:[fBodyAccJerk-std()-X]        |                                                |
| MeanOf:[fBodyAccJerk-std()-Y]        |                                                |
| MeanOf:[fBodyAccJerk-std()-Z]        |                                                |
| MeanOf:[fBodyGyro-mean()-X]          |                                                |
| MeanOf:[fBodyGyro-mean()-Y]          |                                                |
| MeanOf:[fBodyGyro-mean()-Z]          |                                                |
| MeanOf:[fBodyGyro-std()-X]           |                                                |
| MeanOf:[fBodyGyro-std()-Y]           |                                                |
| MeanOf:[fBodyGyro-std()-Z]           |                                                |
| MeanOf:[fBodyAccMag-mean()]          |                                                |
| MeanOf:[fBodyAccMag-std()]           |                                                |
| MeanOf:[fBodyBodyAccJerkMag-mean()]  |                                                |
| MeanOf:[fBodyBodyAccJerkMag-std()]   |                                                |
| MeanOf:[fBodyBodyGyroMag-mean()]     |                                                |
| MeanOf:[fBodyBodyGyroMag-std()]      |                                                |
| MeanOf:[fBodyBodyGyroJerkMag-mean()] |                                                |
| MeanOf:[fBodyBodyGyroJerkMag-std()]  |                                                |
